<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Call Example with Count in window.entries</title>
    <style>
        .my-class {
            color: blue;
        }
    </style>
</head>
<body>
    <h1 id="main-header">API Call Example with Count in window.entries</h1>
    <p class="my-class">This is a paragraph with class "my-class".</p>
    <p class="my-class">Another paragraph with the same class.</p>

    <script>
        // Initialize window.entries to store API call counts
        window.entries = {};

        // Function to log and count API calls
        function logApiCall(apiName) {
            if (!window.entries[apiName]) {
                window.entries[apiName] = 0; // Initialize count if not set
            }
            window.entries[apiName] += 1; // Increment the count for each call
            console.log(`API called: ${apiName}, Count: ${window.entries[apiName]}`);
        }

        // API Usage Examples with Count Logging

        // Using document.getElementById
        const header = document.getElementById('main-header');
        logApiCall('document.getElementById');

        // Using document.getElementsByTagName
        const paragraphs = document.getElementsByTagName('p');
        logApiCall('document.getElementsByTagName');

        // Using document.getElementsByClassName
        const classElements = document.getElementsByClassName('my-class');
        logApiCall('document.getElementsByClassName');

        // Using window.open
        function openWindow() {
            logApiCall('window.open');
            window.open('https://www.example.com');
        }

        // Trigger window.onload
        window.onload = function () {
            logApiCall('window.onload');
            console.log('Page has fully loaded');
        };

        // Using document.writeln
        document.writeln('This is written using document.writeln.');
        logApiCall('document.writeln');

        // Using document.open
        document.open();
        logApiCall('document.open');
        document.write('<p>This is written with document.open and document.write.</p>');
        document.close();

        // Using window.eval
        const result = window.eval('2 + 2');
        logApiCall('window.eval');
        console.log('window.eval result:', result);
        
        // Using window.eval
        const result2 = window.eval('2 + 3');
        logApiCall('window.eval');
        console.log('window.eval result:', result2);

        // Using window.setInterval
        const intervalId = window.setInterval(() => {
            logApiCall('window.setInterval');
            console.log('window.setInterval: Running every 2 seconds.');
        }, 2000);

        // Stop the interval after 10 seconds
        setTimeout(() => {
            clearInterval(intervalId);
            console.log('window.setInterval: Stopped after 10 seconds.');
        }, 10000);

        // Using document.addEventListener
        document.addEventListener('click', () => {
            logApiCall('document.addEventListener');
            console.log('Document was clicked.');
        });

    </script>
</body>
</html>

