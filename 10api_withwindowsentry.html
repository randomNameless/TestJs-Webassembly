<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Call Example with Count in window.entries (Array)</title>
    <style>
        .my-class {
            color: blue;
        }
    </style>
</head>
<body>
    <h1 id="main-header">API Call Example with Count in window.entries (Array)</h1>
    <p class="my-class">This is a paragraph with class "my-class".</p>
    <p class="my-class">Another paragraph with the same class.</p>

    <script>
    	console.log('Script executed')
        // Initialize window.entries as an array to store API call logs
        window.entries = [];

        // Function to log and count API calls in window.entries
        function logApiCall(apiName) {
            // Check if the API call is already logged in window.entries
            let entry = window.entries.find(e => e[0] === apiName);
            if (entry) {
                entry[1] += 1; // Increment the count if the API is already logged
            } else {
                window.entries.push([apiName, 1]); // Initialize the count for the new API call
            }
            console.log(`API called: ${apiName}, Count: ${entry ? entry[1] : 1}`);
        }

        // API Usage Examples with Count Logging

        // Using document.getElementById
        const header = document.getElementById('main-header');
        logApiCall('document.getElementById');

        // Using document.getElementsByTagName
        const paragraphs = document.getElementsByTagName('p');
        logApiCall('document.getElementsByTagName');

        // Using document.getElementsByClassName
        const classElements = document.getElementsByClassName('my-class');
        logApiCall('document.getElementsByClassName');

        // Using window.open
        function openWindow() {
            logApiCall('window.open');
            window.open('https://www.example.com');
        }

        // Trigger window.onload
        //console.log('window.onload triggered');
        //window.onload = function () {
           // logApiCall('window.onload');
           // console.log('Page has fully loaded');
        //};

        // Using document.writeln
        document.writeln('This is written using document.writeln.');
        logApiCall('document.writeln');

        // Using document.open
        document.open();
        logApiCall('document.open');
        document.write('<p>This is written with document.open and document.write.</p>');
        document.close();

        // Using window.eval
        const result = window.eval('2 + 2');
        logApiCall('window.eval');
        console.log('window.eval result:', result);

        // Using window.setInterval
        const intervalId = window.setInterval(() => {
            logApiCall('window.setInterval');
            console.log('window.setInterval: Running every 2 seconds.');
        }, 2000);

        // Stop the interval after 10 seconds
        setTimeout(() => {
            clearInterval(intervalId);
            console.log('window.setInterval: Stopped after 10 seconds.');
        }, 10000);

        // Using document.addEventListener
        document.addEventListener('click', () => {
            logApiCall('document.addEventListener');
            console.log('Document was clicked.');
        });

    </script>
</body>
</html>

